(this.webpackJsonpowcardgame=this.webpackJsonpowcardgame||[]).push([[0],Array(19).concat([function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/ana-icon.0a9b633a.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/baptiste-icon.2f79217b.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/bastion-icon.43554851.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/bob-icon.95fe3da4.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/hanzo-icon.0498f942.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/lucio-icon.9c4b209d.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/mei-icon.511f6a1e.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/mercy-icon.ec50d5ca.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/orisa-icon.db0c11fd.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/sigma-icon.4c97616c.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/torbjorn-icon.9efb7940.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/widowmaker-icon.2036fc9e.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/wreckingball-icon.d593d1dc.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/zarya-icon.1f8a8962.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/zenyatta-icon.6a7ae0d9.png"},function(e,a,t){var r={"./ana-icon.png":19,"./ana.png":51,"./ashe.png":52,"./baptiste-icon.png":20,"./baptiste.png":53,"./bastion-icon.png":21,"./bastion.png":54,"./bob-icon.png":22,"./bob.png":55,"./brigitte.png":56,"./doomfist.png":57,"./dva.png":58,"./dvameka.png":59,"./echo.png":60,"./genji.png":61,"./hanzo-icon.png":23,"./hanzo.png":62,"./junkrat.png":63,"./lucio-icon.png":24,"./lucio.png":64,"./mccree.png":65,"./mei-icon.png":25,"./mei.png":66,"./mercy-icon.png":26,"./mercy.png":67,"./moira.png":68,"./orisa-icon.png":27,"./orisa.png":69,"./pharah.png":70,"./reaper.png":71,"./reinhardt.png":72,"./roadhog.png":73,"./sigma-icon.png":28,"./sigma.png":74,"./soldier.png":75,"./sombra.png":76,"./symmetra.png":77,"./torbjorn-icon.png":29,"./torbjorn.png":78,"./tracer.png":79,"./widowmaker-icon.png":30,"./widowmaker.png":80,"./winston.png":81,"./wreckingball-icon.png":31,"./wreckingball.png":82,"./zarya-icon.png":32,"./zarya.png":83,"./zenyatta-icon.png":33,"./zenyatta.png":84};function c(e){var a=n(e);return t(a)}function n(e){if(!t.o(r,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=n,e.exports=c,c.id=34},,,,,,,function(e,a,t){},function(e,a,t){},,function(e,a,t){var r={"./ana-icon.png":19,"./baptiste-icon.png":20,"./bastion-icon.png":21,"./bob-icon.png":22,"./hanzo-icon.png":23,"./lucio-icon.png":24,"./mei-icon.png":25,"./mercy-icon.png":26,"./orisa-icon.png":27,"./sigma-icon.png":28,"./torbjorn-icon.png":29,"./widowmaker-icon.png":30,"./wreckingball-icon.png":31,"./zarya-icon.png":32,"./zenyatta-icon.png":33};function c(e){var a=n(e);return t(a)}function n(e){if(!t.o(r,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=n,e.exports=c,c.id=44},,,,,,,function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/ana.56cc914a.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/ashe.98f73c10.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/baptiste.deb33cc3.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/bastion.569f19df.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/bob.0b181d17.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/brigitte.bb28f5f0.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/doomfist.f4521649.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/dva.a6114770.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/dvameka.f84cf415.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/echo.8ceea4d3.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/genji.abb45132.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/hanzo.39890961.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/junkrat.45daef8d.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/lucio.f4d88b62.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/mccree.5454674d.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/mei.cc10cbda.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/mercy.1bf234c2.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/moira.5e097835.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/orisa.40ccf2a1.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/pharah.a59554b8.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/reaper.2920af27.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/reinhardt.1b47bde2.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/roadhog.4cfcdcb2.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/sigma.2c857143.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/soldier.3b8cd259.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/sombra.20deb205.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/symmetra.49364b0e.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/torbjorn.57f11099.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/tracer.fe421e56.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/widowmaker.024938d3.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/winston.78a45077.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/wreckingball.e573e997.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/zarya.17e89c2b.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/zenyatta.d8274ce5.png"},function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/card-back.fb86ba2a.png"},,function(e,a,t){"use strict";t.r(a);var r=t(2),c=t(1),n=t.n(c),s=t(5),i=t.n(s),o=(t(41),t(3)),d=t(0),l=t(9),u=Object(c.createContext)(null),b=Object(c.createContext)(null),p=t(7),f=(t(42),t(8)),y=t(14),j=t.n(y);function m(e){var a=e.playerHeroId,c=a.slice(1,a.length),n=(e.playerNum,e.rowId);return Object(r.jsx)("div",{className:"counter",onClick:function(){return e.setCardFocus({playerHeroId:a,rowId:n})},children:Object(r.jsx)("img",{src:t(44)("./".concat(c,"-icon.png")).default,className:"counter herocounter",alt:"Hero Counter"})})}function g(e){var a=e.type,t=e.effects;return Object(r.jsx)("div",{className:"effectscontainer",children:t.length>0?Object(r.jsx)("div",{className:"effects ".concat(a,"effects counterarea"),children:t&&t.map((function(e){return Object(r.jsx)(m,{heroId:e},e)}))}):null})}t.p;function h(e){var a=e.type;return Object(r.jsx)("div",{className:"healthcounter counter ".concat(a),children:e.health})}t.p;function O(e){var a=e.shield,t=e.type;return Object(r.jsx)("div",{className:"shieldcounter counter ".concat(t),children:Object(r.jsx)("span",{children:Object(r.jsx)("h4",{children:a})})})}function w(e){var a=Object(c.useContext)(u),n=a.gameState,s=(a.setGameState,Object(c.useContext)(b)),i=s.turnState,o=(s.setTurnState,e.playerHeroId),l=e.playerNum,f="player".concat(l,"cards"),y=e.rowId,j=(y[1],e.index),m=n.playerCards[f].cards[o],w=m.id,C=m.name,x=m.health,v=(m.power,m.synergy,m.shield),N=m.enemyEffects,k=m.allyEffects,I=m.isPlayed,F=m.isDiscarded;return console.log("".concat(w," is discarded ").concat(F)),F?null:Object(r.jsx)(p.b,{draggableId:o,index:j,isDragDisabled:I||i.playerTurn!==l,children:function(a){return Object(r.jsx)("li",Object(d.a)(Object(d.a)(Object(d.a)({},a.draggableProps),a.dragHandleProps),{},{ref:a.innerRef,children:Object(r.jsxs)("div",{className:"cardcontainer",children:[1===l?Object(r.jsx)(g,{type:"enemy",effects:N}):Object(r.jsx)(g,{type:"ally",effects:k}),Object(r.jsxs)("div",{id:"".concat(o),style:x>0?null:{filter:"grayscale(1)"},className:"card",onClick:i.playerTurn===l||parseInt(y[0])===l?function(){e.setCardFocus({playerHeroId:o,rowId:y})}:null,children:[i.playerTurn===l||parseInt(y[0])===l?Object(r.jsx)(h,{type:"cardcounter",health:x}):null,i.playerTurn===l||parseInt(y[0])===l?v>0&&Object(r.jsx)(O,{type:"cardcounter",shield:v}):null,Object(r.jsx)("img",{src:i.playerTurn===l||parseInt(y[0])===l?t(34)("./".concat(w,".png")).default:t(85).default,className:"cardimg",alt:"".concat(C," Card")})]}),1===l?Object(r.jsx)(g,{type:"ally",effects:k}):Object(r.jsx)(g,{type:"enemy",effects:N})]})}))}})}function C(e){var a=Object(c.useContext)(u).gameState,t=e.rowId,n=a.rows[t].cardIds,s=e.playerNum;return Object(r.jsx)(p.c,{droppableId:e.droppableId,direction:"horizontal",children:function(a){return Object(r.jsxs)("ul",Object(d.a)(Object(d.a)({className:e.listClass},a.droppableProps),{},{ref:a.innerRef,children:[n&&n.map((function(a,t){return Object(r.jsx)(w,{setCardFocus:e.setCardFocus,playerHeroId:a,playerNum:s,rowId:e.rowId,index:t},a)})),a.placeholder]}))}})}var x={getRandInt:function(e,a){return Math.floor(Math.random()*(a-e))+e},createPlayerCard:function(e,a){var t=k["dva"===a||"bob"===a?"specialHeroes":"heroes"][a],r=t.id,c=t.name,n=t.health,s=t.power,i=t.synergy,o=t.ability1,d=t.ability2,l=t.effect,u=n;return{playerHeroId:"".concat(e).concat(a),id:r,name:c,health:n,maxHealth:u,power:s,synergy:i,shield:0,ability1:o,ability2:d,effect:l,enemyEffects:[],allyEffects:[],isPlayed:!1,isDiscarded:!1}}},v=t(4),N=t.n(v),k={specialHeroes:{bob:{id:"bob",name:"Bob",image:"assets/heroes/bob.png",icon:"assets/heroes/bob-icon.png",effect:function(){},health:3,power:{f:1,m:1,b:1},synergy:{f:0,m:0,b:0},ability1:function(){},ability2:function(){}},dva:{id:"dva",name:"D.va",image:"assets/heroes/dva.png",health:2,power:{f:1,m:1,b:1},synergy:{f:0,m:0,b:0},ability1:function(){},ability2:function(){}}},heroes:{ana:{id:"ana",name:"Ana",image:"assets/heroes/ana.png",icon:"assets/heroes/ana-icon.png",effect:function(){},health:4,power:{f:1,m:2,b:2},synergy:{f:3,m:2,b:2},ability1:function(){},ability2:function(){}},ashe:{id:"ashe",name:"Ashe",image:"assets/heroes/ashe.png",health:3,power:{f:2,m:1,b:3},synergy:{f:2,m:3,b:1},ability1:function(){},ability2:function(){}},baptiste:{id:"baptiste",name:"Baptiste",image:"assets/heroes/baptiste.png",icon:"assets/heroes/baptiste-icon.png",effect:function(){},health:4,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},bastion:{id:"bastion",name:"Bastion",image:"assets/heroes/bastion.png",icon:"assets/heroes/bastion-icon.png",effect:function(){},health:5,power:{f:1,m:2,b:3},synergy:{f:3,m:2,b:1},ability1:function(){},ability2:function(){}},brigitte:{id:"brigitte",name:"Brigitte",image:"assets/heroes/brigitte.png",health:4,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},doomfist:{id:"doomfist",name:"Doomfist",image:"assets/heroes/doomfist.png",health:4,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},dvameka:{id:"dvameka",name:"D.va + Meka",image:"assets/heroes/dvameka.png",health:4,power:{f:2,m:3,b:1},synergy:{f:2,m:1,b:3},ability1:function(){},ability2:function(){}},echo:{id:"echo",name:"Echo",image:"assets/heroes/echo.png",health:4,power:{f:1,m:3,b:2},synergy:{f:3,m:1,b:2},ability1:function(){},ability2:function(){}},genji:{id:"genji",name:"Genji",image:"assets/heroes/genji.png",health:4,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},hanzo:{id:"hanzo",name:"Hanzo",image:"assets/heroes/hanzo.png",icon:"assets/heroes/hanzo-icon.png",effect:function(){},health:4,power:{f:1,m:3,b:2},synergy:{f:3,m:1,b:2},ability1:function(){},ability2:function(){}},junkrat:{id:"junkrat",name:"Junkrat",image:"assets/heroes/junkrat.png",health:3,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},lucio:{id:"lucio",name:"Lucio",image:"assets/heroes/lucio.png",icon:"assets/heroes/lucio-icon.png",effect:function(){},health:3,power:{f:2,m:1,b:2},synergy:{f:2,m:3,b:2},ability1:function(){},ability2:function(){}},mccree:{id:"mccree",name:"McCree",image:"assets/heroes/mccree.png",health:4,power:{f:2,m:3,b:1},synergy:{f:2,m:1,b:3},ability1:function(){},ability2:function(){}},mei:{id:"mei",name:"Mei",image:"assets/heroes/mei.png",icon:"assets/heroes/mei-icon.png",effect:function(){},health:4,power:{f:2,m:3,b:1},synergy:{f:2,m:1,b:3},ability1:function(){},ability2:function(){}},mercy:{id:"mercy",name:"Mercy",image:"assets/heroes/mercy.png",icon:"assets/heroes/mercy-icon.png",effect:function(){},health:3,power:{f:1,m:2,b:2},synergy:{f:3,m:2,b:2},ability1:function(){},ability2:function(){}},moira:{id:"moira",name:"Moira",image:"assets/heroes/moira.png",health:3,power:{f:2,m:1,b:2},synergy:{f:2,m:3,b:2},ability1:function(){},ability2:function(){}},orisa:{id:"orisa",name:"Orisa",image:"assets/heroes/orisa.png",icon:"assets/heroes/orisa-icon.png",effect:function(){},health:5,power:{f:1,m:2,b:3},synergy:{f:3,m:2,b:1},ability1:function(){},ability2:function(){}},pharah:{id:"pharah",name:"Pharah",image:"assets/heroes/pharah.png",health:4,power:{f:1,m:3,b:2},synergy:{f:3,m:1,b:2},ability1:function(){},ability2:function(){}},reaper:{id:"reaper",name:"Reaper",image:"assets/heroes/reaper.png",health:4,power:{f:2,m:1,b:3},synergy:{f:2,m:3,b:1},ability1:function(){},ability2:function(){}},reinhardt:{id:"reinhardt",name:"Reinhardt",image:"assets/heroes/reinhardt.png",health:4,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},roadhog:{id:"roadhog",name:"Roadhog",image:"assets/heroes/roadhog.png",health:5,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},sigma:{id:"sigma",name:"Sigma",image:"assets/heroes/sigma.png",icon:"assets/heroes/sigma-icon.png",effect:function(){},health:4,power:{f:1,m:3,b:2},synergy:{f:3,m:1,b:2},ability1:function(){},ability2:function(){}},soldier:{id:"soldier",name:"Soldier 76",image:"assets/heroes/soldier.png",health:4,power:{f:2,m:3,b:1},synergy:{f:2,m:1,b:3},ability1:function(){},ability2:function(){}},sombra:{id:"sombra",name:"Sombra",image:"assets/heroes/sombra.png",health:4,power:{f:3,m:1,b:2},synergy:{f:1,m:3,b:2},ability1:function(){},ability2:function(){}},symmetra:{id:"symmetra",name:"Symmetra",image:"assets/heroes/symmetra.png",health:3,power:{f:2,m:1,b:2},synergy:{f:2,m:3,b:2},ability1:function(){},ability2:function(){}},torbjorn:{id:"torbjorn",name:"Torbjorn",image:"assets/heroes/torbjorn.png",icon:"assets/heroes/torbjorn-icon.png",effect:function(){},health:4,power:{f:3,m:1,b:2},synergy:{f:1,m:3,b:2},ability1:function(){},ability2:function(){}},tracer:{id:"tracer",name:"Tracer",image:"assets/heroes/tracer.png",health:3,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},widowmaker:{id:"widowmaker",name:"Widowmaker",image:"assets/heroes/widowmaker.png",icon:"assets/heroes/widowmaker-icon.png",effect:function(){},health:4,power:{f:2,m:1,b:3},synergy:{f:2,m:3,b:1},ability1:function(){return new Promise((function(e,a){N()(".row").on("click",(function(t){var r=N()(t.target).closest(".row").attr("id"),c={type:"row",rowId:r,rowKey:"effects",rowValue:"2widowmaker"};N()(".row").off("click"),"p"!==r[0]?e(c):a("Can't target player hand")}))}))},ability2:function(e){return new Promise((function(a,t){e>=3?N()(".card").on("click",(function(e){var r=N()(e.target).closest(".card").attr("id"),c=N()(e.target).closest(".row").attr("id");"p"===c[0]&&t("Cant target player's hand");var n={type:"card",targetCardId:r,cardKey:"health",cardValue:0,synergyCost:3,targetRow:c};N()(".card").off("click"),a(n)})):t("Not enough synergy")}))}},winston:{id:"winston",name:"Winston",image:"assets/heroes/winston.png",health:4,power:{f:3,m:2,b:1},synergy:{f:1,m:2,b:3},ability1:function(){},ability2:function(){}},wreckingball:{id:"wreckingball",name:"Wrecking Ball",image:"assets/heroes/wreckingball.png",icon:"assets/heroes/wreckingball-icon.png",effect:function(){},health:3,power:{f:2,m:3,b:1},synergy:{f:2,m:1,b:3},ability1:function(){},ability2:function(){}},zarya:{id:"zarya",name:"Zarya",image:"assets/heroes/zarya.png",icon:"assets/heroes/zarya-icon.png",effect:function(){},health:4,power:{f:2,m:3,b:1},synergy:{f:2,m:1,b:3},ability1:function(){},ability2:function(){}},zenyatta:{id:"zenyatta",name:"Zenyatta",image:"assets/heroes/zenyatta.png",icon:"assets/heroes/zenyatta-icon.png",effect:function(){},health:4,power:{f:2,m:2,b:1},synergy:{f:2,m:2,b:3},ability1:function(){console.log("zen ability1")},ability2:function(){console.log("zen ability2")}}},playerCards:{player1cards:{id:"player1cards",cards:{}},player2cards:{id:"player2cards",cards:{}}},rows:{player1hand:{id:"player1hand",cardIds:[],power:{f:0,m:0,b:0}},player2hand:{id:"player2hand",cardIds:[],power:{f:0,m:0,b:0}},"1f":{id:"1f",label:"Front Row",cardIds:[],synergy:0,effects:[]},"1m":{id:"1m",label:"Middle Row",cardIds:[],synergy:0,effects:[]},"1b":{id:"1b",label:"Back Row",cardIds:[],synergy:0,effects:[]},"2b":{id:"2b",label:"Back Row",cardIds:[],synergy:0,effects:[]},"2m":{id:"2m",label:"Middle Row",cardIds:[],synergy:0,effects:[]},"2f":{id:"2f",label:"Front Row",cardIds:[],synergy:0,effects:[]}}};function I(e){var a=Object(c.useContext)(u),t=a.gameState,n=a.setGameState,s=Object(c.useContext)(b),i=s.turnState,l=s.setTurnState,p=e.playerNum,y="player".concat(p,"hand"),m="player".concat(p,"cards"),g=t.rows[y].cardIds,h=e.nextCardDraw,O=e.setNextCardDraw;function w(e,a){var r=x.createPlayerCard(e,a),c=j()(t,{playerCards:Object(o.a)({},"player".concat(e,"cards"),{cards:Object(o.a)({},r.playerHeroId,{$set:r})})});return n(c),r.playerHeroId}return console.log(e.nextCardDraw),Object(r.jsxs)("div",{className:"playerhand cardRow",children:[Object(r.jsx)(C,{playerNum:e.playerNum,droppableId:"player".concat(e.playerNum,"hand"),listClass:"handlist",rowId:y,setCardFocus:e.setCardFocus}),Object(r.jsxs)("div",{className:"playerbuttons",children:[Object(r.jsx)("button",{className:"drawbutton",disabled:g.length>=8,onClick:function(){return function(a){if(null!==a["player".concat(p)]){var r=w(p,a["player".concat(p)]);O((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},"player".concat(p),null))}))}else do{var c=x.getRandInt(0,Object.keys(k.heroes).length),s=Object.keys(k.heroes)[c],i=k.heroes[s].id;r=w(e.playerNum,i)}while(r in t.playerCards[m].cards);var l=[].concat(Object(f.a)(t.rows[y].cardIds),[r]);n((function(e){return Object(d.a)(Object(d.a)({},e),{},{rows:Object(d.a)(Object(d.a)({},e.rows),{},Object(o.a)({},y,Object(d.a)(Object(d.a)({},e.rows[y]),{},{cardIds:l})))})}))}(h)},children:"Draw"}),Object(r.jsx)("button",{disabled:!(i.playerTurn===p),className:"endturnbutton",onClick:1===i.playerTurn?function(){return l((function(e){return{turnCount:e.turnCount+1,playerTurn:2}}))}:function(){return l((function(e){return{turnCount:e.turnCount+1,playerTurn:1}}))},children:"End Turn"})]})]})}function F(e){return Object(r.jsx)("div",{className:"power playerarea-section",children:Object(r.jsx)("div",{id:"player".concat(e.playerNum,"power"),className:"powercounter counter",children:Object(r.jsx)("span",{id:e.id,children:Object(r.jsx)("h4",{children:e.power})})})})}function D(e){var a=Object(c.useContext)(u).gameState,t="player".concat(e.playerNum,"area"),n=a.rows["player".concat(e.playerNum,"hand")].power,s=Object.values(n).reduce((function(e,a){return e+a}),0);return console.log(e.nextCardDraw),Object(r.jsxs)("div",{id:t,className:"playerarea row",children:[Object(r.jsxs)("div",{className:"playername playerarea-section",children:["Player ",e.playerNum]}),Object(r.jsx)(I,{setCardFocus:e.setCardFocus,playerNum:e.playerNum,nextCardDraw:e.nextCardDraw,setNextCardDraw:e.setNextCardDraw}),Object(r.jsx)(F,{playerNum:e.playerNum,power:s})]})}var S=t(11);function z(e){return Object(r.jsx)("div",{className:"synergycontainer",children:Object(r.jsx)("div",{className:"synergycounter counter",children:Object(r.jsx)("span",{id:e.id,children:Object(r.jsx)("h4",{children:e.synergy})})})})}function P(e){var a=Object(c.useContext)(u).gameState,t=e.type,n=e.rowId,s=a.rows[n].effects;return Object(r.jsx)("div",{className:"".concat(t,"-counterarea counterarea"),children:s&&s.map((function(a){return Object(r.jsx)(m,{playerHeroId:a,setCardFocus:e.setCardFocus,playerNum:e.playerNum,rowId:n},a)}))})}function H(e){var a=Object(c.useContext)(u),t=a.gameState,n=a.setGameState,s=e.rowId,i=t.rows[s].cardIds,l=e.playerNum,b="player".concat(l,"hand"),p=t.rows[s].synergy;return Object(c.useEffect)((function(){var a,r=0,c=e.rowId[1],s=Object(S.a)(i);try{for(s.s();!(a=s.n()).done;){var u=a.value;t.playerCards["player".concat(l,"cards")].cards[u].health>0&&(r+=t.playerCards["player".concat(l,"cards")].cards[u].power[c])}}catch(p){s.e(p)}finally{s.f()}n((function(e){return Object(d.a)(Object(d.a)({},e),{},{rows:Object(d.a)(Object(d.a)({},e.rows),{},Object(o.a)({},b,Object(d.a)(Object(d.a)({},e.rows[b]),{},{power:Object(d.a)(Object(d.a)({},e.rows[b].power),{},Object(o.a)({},c,r))})))})}))}),[i,t.playerCards["player".concat(l,"cards")]]),Object(r.jsxs)("div",{id:s,className:"rowarea row",children:[Object(r.jsx)(P,{type:"row",setCardFocus:e.setCardFocus,playerNum:e.playerNum,rowId:e.rowId}),Object(r.jsx)("div",{className:"rowlabel",children:e.label}),Object(r.jsx)("div",{className:"boardrow cardRow",children:Object(r.jsx)(C,{playerNum:e.playerNum,droppableId:e.rowId,listClass:"rowlist cardRow",rowId:e.rowId,setCardFocus:e.setCardFocus})}),Object(r.jsx)(z,{synergy:p})]})}function T(e){var a=k.rows;return Object(r.jsx)("div",{id:"player".concat(e.playerNum,"board"),className:"board",children:Object.keys(a).map((function(t){return parseInt(t[0])===e.playerNum?Object(r.jsx)(H,{setCardFocus:e.setCardFocus,playerNum:e.playerNum,label:a[t].label,rowId:a[t].id},a[t].id):null}))})}function R(e){var a=Object(c.useContext)(u).gameState.rows["player".concat(e.playerNum,"hand")].power,t=Object.values(a).reduce((function(e,a){return e+a}),0);return 1===e.playerNum?Object(r.jsxs)("div",{children:[Object(r.jsx)(T,{playerNum:e.playerNum,setCardFocus:e.setCardFocus}),Object(r.jsx)(D,{playerNum:e.playerNum,setCardFocus:e.setCardFocus,totalPower:t,nextCardDraw:e.nextCardDraw,setNextCardDraw:e.setNextCardDraw})]}):2===e.playerNum?Object(r.jsxs)("div",{children:[Object(r.jsx)(D,{playerNum:e.playerNum,setCardFocus:e.setCardFocus,totalPower:t,nextCardDraw:e.nextCardDraw,setNextCardDraw:e.setNextCardDraw}),Object(r.jsx)(T,{playerNum:e.playerNum,setCardFocus:e.setCardFocus})]}):void 0}var E=t.p+"static/media/logo3.927a5abd.png";function M(){return Object(r.jsxs)("div",{id:"centerlogocontainer",children:[Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"title",children:"Overwatch"}),Object(r.jsxs)("span",{className:"credit",children:["Game & Card Design by",Object(r.jsx)("br",{}),"u/bwb912"]}),Object(r.jsx)("img",{src:E,id:"centerlogo",alt:"owlogo"}),Object(r.jsxs)("span",{className:"credit",children:["Digitisation by",Object(r.jsx)("br",{}),"Nathan H Miles"]}),Object(r.jsx)("span",{className:"title",children:"Card Game"}),Object(r.jsx)("br",{})]})}function B(){return Object(r.jsx)("footer",{children:Object(r.jsx)("span",{className:"disclaimer",children:"All characters, art and the Overwatch logo and brand are the property of Blizzard Entertainment, Inc. This is a free, fan-made game that is not affiliated with Blizzard Entertainment, Inc. in any way."})})}var G=t(12),A=t.n(G),L=t(18);function U(e){var a=Object(c.useContext)(u),t=a.gameState,n=a.setGameState,s=Object(c.useContext)(b),i=(s.turnState,s.setTurnState,e.playerNum),l=e.playerHeroId,p=l.slice(1,l.length),y=("player".concat(i,"cards"),e.rowId),j=(e.cardFocus,e.setCardFocus,e.unsetCardFocus);function m(e,a){n((function(t){return Object(d.a)(Object(d.a)({},t),{},{rows:Object(d.a)(Object(d.a)({},t.rows),{},Object(o.a)({},e,Object(d.a)(Object(d.a)({},t.rows[e]),{},{synergy:t.rows[e].synergy-a})))})}))}function g(e,a){for(var r=a[0],c=t.playerCards["player".concat(r,"cards")].cards[a].health,n=t.playerCards["player".concat(r,"cards")].cards[a].shield,s=0;s<e;s++)n>0?n-=1:c-=1;return{targetHealth:c,targetShield:n}}var h={dva:{ability2:{synergyCost:2,run:function(){return new Promise((function(a,t){e.setNextCardDraw((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},"player".concat(i),"dvameka"))})),a()}))}}},dvameka:{ability1:{run:function(){n((function(e){return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(i,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")].cards),{},Object(o.a)({},"".concat(i,"dvameka"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")].cards["".concat(i,"dvameka")]),{},{shield:e.playerCards["player".concat(i,"cards")].cards["".concat(i,"dvameka")].shield+2})))})))})}))}},ability2:{synergyCost:3,run:function(){var e,a=y[1],r=1===i?2:1,c=t.rows[y].cardIds,s=t.rows["".concat(r).concat(a)].cardIds,l=Object(S.a)(c);try{var u=function(){var a=e.value,t=g(4,a),r=t.targetHealth,c=t.targetShield;n((function(e){return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(i,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")].cards),{},Object(o.a)({},a,Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")].cards[a]),{},{health:r,shield:c})))})))})}))};for(l.s();!(e=l.n()).done;)u()}catch(O){l.e(O)}finally{l.f()}var b,p=Object(S.a)(s);try{var j=function(){var e=b.value,a=g(4,e),t=a.targetHealth,c=a.targetShield;n((function(a){return Object(d.a)(Object(d.a)({},a),{},{playerCards:Object(d.a)(Object(d.a)({},a.playerCards),{},Object(o.a)({},"player".concat(r,"cards"),Object(d.a)(Object(d.a)({},a.playerCards["player".concat(r,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},a.playerCards["player".concat(r,"cards")].cards),{},Object(o.a)({},e,Object(d.a)(Object(d.a)({},a.playerCards["player".concat(r,"cards")].cards[e]),{},{health:t,shield:c})))})))})}))};for(p.s();!(b=p.n()).done;)j()}catch(O){p.e(O)}finally{p.f()}var m=x.createPlayerCard(i,"dva"),h=t.rows[y].cardIds.filter((function(e){return e!=="".concat(i,"dvameka")}));n((function(e){var a;return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(i,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")].cards),{},(a={},Object(o.a)(a,"".concat(i,"dvameka"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(i,"cards")].cards["".concat(i,"dvameka")]),{},{isDiscarded:!0})),Object(o.a)(a,m.playerHeroId,m),a))}))),rows:Object(d.a)(Object(d.a)({},e.rows),{},Object(o.a)({},y,Object(d.a)(Object(d.a)({},e.rows[y]),{},{cardIds:[].concat(Object(f.a)(h),[m.playerHeroId])})))})}))}}},genji:{ability1:{maxTargets:3,run:function(){return new Promise((function(e,a){N()(".card").on("click",(function(t){var r=N()(t.target).closest(".card").attr("id"),c=r[0],s=N()(t.target).closest(".row").attr("id");if(N()(".card").off("click"),"p"!==s[0]&&s[0]!==i){var l=g(1,r),u=l.targetHealth,b=l.targetShield;n((function(e){return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(c,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")].cards),{},Object(o.a)({},r,Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")].cards[r]),{},{health:u,shield:b})))})))})})),e()}else a("Incorrect target")}))}))}},ability2:{synergyCost:3,run:function(){return new Promise((function(e,a){N()(".card").on("click",(function(r){var c=N()(r.target).closest(".card").attr("id"),s=c[0],l=N()(r.target).closest(".row").attr("id");if(N()(".card").off("click"),"p"!==l[0]&&l[0]!==i&&t.playerCards["player".concat(s,"cards")].cards[c].health!==t.playerCards["player".concat(s,"cards")].cards[c].maxHealth){n((function(e){return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(s,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(s,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(s,"cards")].cards),{},Object(o.a)({},c,Object(d.a)(Object(d.a)({},e.playerCards["player".concat(s,"cards")].cards[c]),{},Object(o.a)({},"health",0))))})))})})),e()}else a("Incorrect target")}))}))}}},pharah:{ability1:{run:function(){return new Promise((function(e,a){N()(".card").on("click",(function(r){var c=N()(r.target).closest(".card").attr("id"),s=c[0],l=N()(r.target).closest(".row").attr("id");if(N()(".card").off("click"),"p"!==l[0]&&l[0]!==i){if("b"!==l[1]){var u="".concat(s).concat("f"===l[1]?"m":"b");console.log(u);var b=t.rows[l].cardIds.filter((function(e){return e!==c})),p=[].concat(Object(f.a)(t.rows[u].cardIds),[c]);n((function(e){var a;return Object(d.a)(Object(d.a)({},e),{},{rows:Object(d.a)(Object(d.a)({},e.rows),{},(a={},Object(o.a)(a,l,Object(d.a)(Object(d.a)({},e.rows[l]),{},{cardIds:b})),Object(o.a)(a,u,Object(d.a)(Object(d.a)({},e.rows[u]),{},{cardIds:p})),a))})}))}n((function(e){return Object(d.a)(Object(d.a)({},e),{},{rows:Object(d.a)(Object(d.a)({},e.rows),{},Object(o.a)({},l,Object(d.a)(Object(d.a)({},e.rows[l]),{},{synergy:e.rows[l].synergy-2})))})})),e()}else a("Incorrect target row")}))}))}},ability2:{maxTargets:3,synergyCost:3,run:function(){return new Promise((function(e,a){N()(".card").on("click",(function(t){var r=N()(t.target).closest(".card").attr("id"),c=r[0],s=N()(t.target).closest(".row").attr("id");if(N()(".card").off("click"),"p"!==s[0]&&s[0]!==i){var l=g(2,r),u=l.targetHealth,b=l.targetShield;n((function(e){return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(c,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")].cards),{},Object(o.a)({},r,Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")].cards[r]),{},{health:u,shield:b})))})))})})),e()}else a("Incorrect target")}))}))}}},widowmaker:{ability1:{run:function(){return new Promise((function(e,a){N()(".row").on("click",(function(t){var r=N()(t.target).closest(".row").attr("id"),c="effects";N()(".row").off("click"),"p"===r[0]||r[0]===i?a("Incorrect target"):(n((function(e){return Object(d.a)(Object(d.a)({},e),{},{rows:Object(d.a)(Object(d.a)({},e.rows),{},Object(o.a)({},r,Object(d.a)(Object(d.a)({},e.rows[r]),{},Object(o.a)({},c,[].concat(Object(f.a)(e.rows[r].effects),["2widowmaker"])))))})})),e())}))}))}},ability2:{synergyCost:3,run:function(){return console.log("widow ability2 started"),new Promise((function(e,a){N()(".card").on("click",(function(t){var r=N()(t.target).closest(".card").attr("id"),c=r[0],s=N()(t.target).closest(".row").attr("id");if(N()(".card").off("click"),"p"!==s[0]&&s[0]!==i){n((function(e){return Object(d.a)(Object(d.a)({},e),{},{playerCards:Object(d.a)(Object(d.a)({},e.playerCards),{},Object(o.a)({},"player".concat(c,"cards"),Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")].cards),{},Object(o.a)({},r,Object(d.a)(Object(d.a)({},e.playerCards["player".concat(c,"cards")].cards[r]),{},Object(o.a)({},"health",0))))})))})})),e()}else a("Incorrect target row")}))}))}}},zenyatta:{ability1:{maxTargets:1,run:function(){}},ability2:{synergyCost:3,run:function(){}}}};function O(){return(O=Object(L.a)(A.a.mark((function e(a){var t,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),t=h[p].ability1.maxTargets,"p"===y[0]){e.next=22;break}if(e.prev=3,j(),!("maxTargets"in h[p].ability1)){e.next=13;break}r=0;case 7:return e.next=9,h[p].ability1.run();case 9:r+=1;case 10:if(r<t){e.next=7;break}case 11:e.next=15;break;case 13:return e.next=15,h[p].ability1.run();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),alert(e.t0);case 20:e.next=23;break;case 22:alert("Play cards before using abilities!");case 23:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function w(){return(w=Object(L.a)(A.a.mark((function e(a){var r,c,n,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),r=h[p].ability2.synergyCost,c=t.rows[y].synergy,"p"===y[0]){e.next=29;break}if(!(c>=r)){e.next=26;break}if(e.prev=5,j(),!("maxTargets"in h[p].ability2)){e.next=16;break}n=h[p].ability2.maxTargets,s=0;case 10:return e.next=12,h[p].ability2.run();case 12:s+=1;case 13:if(s<n){e.next=10;break}case 14:e.next=18;break;case 16:return e.next=18,h[p].ability2.run();case 18:m(y,r),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),alert(e.t0);case 24:e.next=27;break;case 26:alert("Insufficient synergy!");case 27:e.next=30;break;case 29:alert("Play cards before using abilities!");case 30:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)}return Object(r.jsxs)("div",{id:"abilitiescontainer",children:[Object(r.jsx)("div",{id:"ability1",className:"ability ability1",onClick:function(e){return O.apply(this,arguments)}}),Object(r.jsx)("div",{id:"ability2",className:"ability ability2",onClick:function(e){return w.apply(this,arguments)}})]})}function _(e){var a=Object(c.useContext)(u),n=a.gameState,s=(a.setGameState,e.cardFocus),i=s.playerHeroId,o=parseInt(i[0]),d=s.rowId,l=e.setCardFocus,b=e.unsetCardFocus,p=n.playerCards["player".concat(o,"cards")].cards[i],f=p.id,y=(p.name,p.health),j=p.shield;p.effect,p.enemyEffects,p.allyEffects,p.isDiscarded;return Object(r.jsx)("div",{id:"cardfocuscontainer",children:Object(r.jsxs)("div",{id:"".concat(i,"-cardfocus"),className:"cardfocus",onClick:e.unsetCardFocus,children:[Object(r.jsx)(h,{type:"cardfocuscounter",health:y}),j>0&&Object(r.jsx)(O,{type:"cardfocuscounter",shield:j}),Object(r.jsx)("img",{src:t(34)("./".concat(f,".png")).default,className:"cardimg",alt:"Card Focus"}),y>0?Object(r.jsx)(U,{playerNum:o,playerHeroId:i,rowId:d,cardFocus:s,setCardFocus:l,unsetCardFocus:b,setNextCardDraw:e.setNextCardDraw}):null]})})}var J=function(){var e=Object(c.useState)(k),a=Object(l.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)({player1:{wins:0},player2:{wins:0},wonLastMatch:0}),i=Object(l.a)(s,2),f=(i[0],i[1],Object(c.useState)({turnCount:1,playerTurn:x.getRandInt(1,3)})),y=Object(l.a)(f,2),j=y[0],m=y[1],g=Object(c.useState)(null),h=Object(l.a)(g,2),O=h[0],w=h[1],C=Object(c.useState)({player1:null,player2:null}),v=Object(l.a)(C,2),N=v[0],I=v[1];return Object(r.jsx)("div",{children:Object(r.jsx)(b.Provider,{value:{turnState:j,setTurnState:m},children:Object(r.jsxs)(u.Provider,{value:{gameState:t,setGameState:n},children:[Object(r.jsx)(B,{}),Object(r.jsxs)(p.a,{onDragEnd:function(e){var a,r=e.destination,c=e.source,s=e.draggableId;if(r){var i=t.rows[c.droppableId],l=t.rows[r.droppableId],u=l.id[0],b=l.id[1];l.synergy;if(i!==l){var p=Array.from(i.cardIds);p.splice(c.index,1);var f=Object(d.a)(Object(d.a)({},i),{},{cardIds:p}),y=t.playerCards["player".concat(u,"cards")].cards[s].synergy[b],j=Array.from(l.cardIds);j.splice(r.index,0,s);var m=Object(d.a)(Object(d.a)({},l),{},{cardIds:j,synergy:l.synergy+y}),g=Object(d.a)(Object(d.a)({},t),{},{rows:Object(d.a)(Object(d.a)({},t.rows),{},(a={},Object(o.a)(a,f.id,f),Object(o.a)(a,m.id,m),a)),playerCards:Object(d.a)(Object(d.a)({},t.playerCards),{},Object(o.a)({},"player".concat(u,"cards"),Object(d.a)(Object(d.a)({},t.playerCards["player".concat(u,"cards")]),{},{cards:Object(d.a)(Object(d.a)({},t.playerCards["player".concat(u,"cards")].cards),{},Object(o.a)({},s,Object(d.a)(Object(d.a)({},t.playerCards["player".concat(u,"cards")].cards[s]),{},{isPlayed:!0,synergy:{f:0,m:0,b:0}})))})))});n(g)}else{var h=Array.from(i.cardIds);h.splice(c.index,1),h.splice(r.index,0,s);var O=Object(d.a)(Object(d.a)({},i),{},{cardIds:h}),w=Object(d.a)(Object(d.a)({},t),{},{rows:Object(d.a)(Object(d.a)({},t.rows),{},Object(o.a)({},O.id,O))});n(w)}}},children:[Object(r.jsx)(R,{playerNum:2,setCardFocus:w,nextCardDraw:N,setNextCardDraw:I}),Object(r.jsx)(M,{}),Object(r.jsx)(R,{playerNum:1,setCardFocus:w,nextCardDraw:N,setNextCardDraw:I})]}),O&&Object(r.jsx)(_,{setCardFocus:w,unsetCardFocus:function(){w(null)},cardFocus:O,setNextCardDraw:I}),Object(r.jsx)(B,{})]})})})};i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root"))}]),[[87,1,2]]]);
//# sourceMappingURL=main.b5c19fed.chunk.js.map